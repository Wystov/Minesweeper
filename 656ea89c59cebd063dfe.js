/*! For license information please see 656ea89c59cebd063dfe.js.LICENSE.txt */
(()=>{"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function n(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var r=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=!0,this.sound=!0,this.fieldSize=100,this.mines=10,this.theme=["page","page--theme-light"],this.mode="easy"}var e,r;return e=t,(r=[{key:"save",value:function(){localStorage.setItem("minesweeper-settings",JSON.stringify(this))}},{key:"load",value:function(){var t=JSON.parse(localStorage.getItem("minesweeper-settings"));t&&(this.game=t.game,this.sound=t.sound,this.fieldSize=t.fieldSize,this.mines=t.mines,this.theme=t.theme,this.mode=t.mode,this.name=t.name)}}])&&n(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());r.load();const o=r,i=t.p+"assets\\4c0ee2dac34593b2f60c.wav",a=t.p+"assets\\f489832ff4a0327c5ed3.wav",s=t.p+"assets\\88d4e94de57ef0d6c0c8.wav",c=t.p+"assets\\90593f0d3801ec3555d8.wav";function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=[],this.cells={elements:[],data:[],open:[],flag:[]},this.sound={click:new Audio(i),flag:new Audio(a),win:new Audio(s),lose:new Audio(c)},this.turns=0,this.time=0,this.lastResults=JSON.parse(localStorage.getItem("minesweeper-history"))||[];var e=localStorage.getItem("minesweeper-last-game");if(e){var n=atob(e);this.lastGame=JSON.parse(n)}this.lastTurns=localStorage.getItem("minesweeper-turns"),this.lastTime=localStorage.getItem("minesweeper-time")}var e,n;return e=t,(n=[{key:"save",value:function(){if(this.cells.open.length&&o.game){this.cells.elements.length=0;var t=JSON.stringify(this.cells),e=btoa(t);localStorage.setItem("minesweeper-last-game",e),localStorage.setItem("minesweeper-turns",this.turns),localStorage.setItem("minesweeper-time",this.time)}}},{key:"removeSave",value:function(){localStorage.removeItem("minesweeper-last-game"),localStorage.removeItem("minesweeper-turns"),localStorage.removeItem("minesweeper-time"),this.lastGame=null}},{key:"continueGame",value:function(){this.cells.data=this.lastGame.data,this.turns=parseInt(this.lastTurns,10),this.time=parseInt(this.lastTime,10),this.cells.open=this.lastGame.open,this.cells.flag=this.lastGame.flag}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}());window.addEventListener("beforeunload",(function(){return f.save()}));const p=f;function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const m=function(t){var e,n,r=t.tag,o=void 0===r?"div":r,i=t.classes,a=void 0===i?[]:i,s=t.parent,c=void 0===s?null:s,l=t.type,u=void 0===l?null:l,f=t.name,m=void 0===f?null:f,v=t.value,d=void 0===v?null:v,y=t.dataSet,g=void 0===y?null:y,b=t.textContent,w=void 0===b?null:b,_=t.onClick,x=void 0===_?null:_,L=t.link,S=void 0===L?null:L,E=document.createElement(o);return(e=E.classList).add.apply(e,function(t){if(Array.isArray(t))return h(t)}(n=a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c.append(E),w&&(E.innerHTML=w),"number"==typeof g&&(E.dataset.cell=g),"function"==typeof x&&E.addEventListener("click",x),S&&(p.elements[S]=E),u&&(E.type=u),m&&(E.name=m),d&&(E.value=d),E},v=function(t){return void 0!==t&&"number"==typeof t?t+1:t};function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function y(){y=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:L(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function m(){}var v={};c(v,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(j([])));b&&b!==e&&n.call(b,i)&&(v=b);var w=m.prototype=p.prototype=Object.create(v);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==d(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function L(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},_(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),c(w,s,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function g(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}const b=function(){var t,e=(t=y().mark((function t(){var e,n,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://646474f7043c103502b9efc9.mockapi.io/top",{method:"GET",headers:{"content-type":"application/json"}});case 3:if((e=t.sent).ok){t.next=6;break}throw new Error;case 6:return t.next=8,e.json();case 8:return n=t.sent,r=n.sort((function(t,e){return t.turns===e.turns?t.time-e.time:t.turns-e.turns})),t.abrupt("return",r);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){g(i,r,o,a,s,"next",t)}function s(t){g(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function _(){_=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new C(o||[]);return r(a,"_invoke",{value:L(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function m(){}var v={};c(v,i,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(j([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=m.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==w(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function L(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function j(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return h.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,a,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=j,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}var L=function(t){fetch("https://646474f7043c103502b9efc9.mockapi.io/top",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};const S=function(){var t,e=(t=_().mark((function t(e,n,r){var i,a;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b();case 2:i=t.sent,a={name:o.name,difficulty:o.mode,turns:e,time:n,date:r},i.some((function(t){return t.name===o.name&&t.difficulty===o.mode&&t.turns<=e}))||L(a);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){x(i,r,o,a,s,"next",t)}function s(t){x(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}(),E=function(t,e){clearInterval(p.timerId),p.time=0,o.game=!1;var n=m({classes:["popup"],parent:p.elements.container});setTimeout((function(){return n.classList.add("popup--animation")}),10),m({classes:["popup__container","popup__message"],parent:n,textContent:t}),n.append(p.elements.newGameBtn),m({parent:n,classes:["open-field"],textContent:"show mines",onClick:function(){p.cells.elements.forEach((function(t,n){return e(n)})),p.elements.controlsToggle.after(p.elements.newGameBtn),n.classList.remove("popup--animation"),setTimeout((function(){return n.remove()}),500)}})},k=function(t,e){var n=p.elements.progressBar,r=p.cells.open.length/(o.fieldSize-o.mines)*100;n.style.width="".concat(r,"%"),t&&n.classList.add("progressbar__value--win"),e&&n.classList.add("progressbar__value--lose")},C=function(t,e){var n=o.fieldSize,r=o.mines,i=p.turns;if("&#128163;"===t)return o.sound&&p.sound.lose.play(),o.game=!1,k(null,!0),document.body.style.overflow="hidden",void setTimeout((function(){document.body.style.overflow="auto",E("Game over. Try again",e)}),1e3);if(p.cells.open.length===n-r){if(o.sound&&p.sound.win.play(),1===p.cells.open.length)return void E("Hooray! You win in...<br>1 move? Looks like a cheat.<br>No one loves cheaters, don't do it anymore.<br>I'll not even save this to game history.",e);var a=parseInt(p.elements.timerCount.textContent,10),s=Math.sqrt(o.fieldSize);k(!0),E("Hooray! You found ".concat(o.mines," mines on field ").concat(s,"x").concat(s," in ").concat(a," seconds and ").concat(i," moves!"),e),function(t,e,n,r){10===p.lastResults.length&&p.lastResults.pop();var i=new Date;p.lastResults.unshift([t,e,n,r,i,o.mode]),localStorage.setItem("minesweeper-history",JSON.stringify(p.lastResults)),"custom"!==o.mode&&S(n,r,i)}(s,o.mines,i,a)}};var j=function(t){var e=p.cells,n=e.open,r=e.flag,i=t>=0&&t<o.fieldSize,a=n.includes(t),s=r.includes(t);return!a&&!s&&i};const O=function t(e){var n,r,i,a,s=p.cells,c=s.elements[e],l=s.data[e];if(c.classList.add("cell--open"),s.open.includes(e)||s.open.push(e),l){if(c.innerHTML=l,"number"==typeof l&&c.classList.add("color--".concat(l)),!o.game)return;"string"==typeof l&&c.classList.add("cell--bomb"),C(l,t)}else{if(!o.game)return;(n=e,r=[],i=Math.sqrt(o.fieldSize),a=(n+1)%i==0,n%i==0||(j(n-1)&&r.push(n-1),j(n-(i+1))&&r.push(n-(i+1)),j(n+(i-1))&&r.push(n+(i-1))),a||(j(n+1)&&r.push(n+1),j(n-(i-1))&&r.push(n-(i-1)),j(n+(i+1))&&r.push(n+(i+1))),j(n-i)&&r.push(n-i),j(n+i)&&r.push(n+i),r).forEach((function(e){return t(e)}))}k()},T=function(){var t=p.elements.timerCount;p.time=parseInt(p.time,10)+1,t.textContent="".concat(p.time," s")},I=function(t){if(o.game){var e=t.target.classList,n=p.cells,r=n.open,i=n.flag,a=parseInt(t.target.dataset.cell,10);!e.contains("cell")||r.includes(a)||i.includes(a)||(o.sound&&p.sound.click.play(),0===p.turns&&(function(t){p.removeSave(),p.time=0,p.elements.continueBtn&&p.elements.continueBtn.remove();for(var e=o.fieldSize,n=o.mines,r=new Array(e).fill(0),i=Math.sqrt(e),a=0;a<n;){var s=(c=e,Math.floor(Math.random()*c));"&#128163;"!==r[s]&&s!==t&&(r[s]="&#128163;",a+=1)}var c;r.forEach((function(t,n){if("string"==typeof t){var o=(n+1)%i==0;n%i==0||(n-1>=0&&(r[n-1]=v(r[n-1])),n-(i+1)>=0&&(r[n-(i+1)]=v(r[n-(i+1)])),n+(i-1)<e&&(r[n+(i-1)]=v(r[n+(i-1)]))),o||(n+1<e&&(r[n+1]=v(r[n+1])),n-(i-1)>=0&&(r[n-(i-1)]=v(r[n-(i-1)])),n+(i+1)<e&&(r[n+(i+1)]=v(r[n+(i+1)]))),n-i>=0&&(r[n-i]=v(r[n-i])),n+i<e&&(r[n+i]=v(r[n+i]))}})),p.cells.data=r}(a),p.timerId=setInterval(T,1e3)),p.turns+=1,O(a),p.elements.turnsCount.textContent=p.turns)}},G=function(t,e){p.cells.elements=[],t.forEach((function(t,n){var r=m({classes:["cell"],parent:e,dataSet:n});p.cells.elements.push(r)}))},N=function(t,e){var n;if(t){if(t.preventDefault(),!o.game)return;n=t.target.classList;var r=parseInt(t.target.dataset.cell,10);if(!n.contains("cell")||p.cells.open.includes(r))return;var i=p.cells.flag,a=p.elements.flagsCount,s=parseInt(a.textContent,10),c=i.indexOf(r);if(-1===c){if(i.length>=o.mines)return;t.target.innerHTML="&#128681;",a.textContent="".concat(s+1," / ").concat(o.mines),i.push(r)}else t.target.innerHTML="",a.textContent="".concat(s-1," / ").concat(o.mines),i.splice(c,1);o.sound&&p.sound.flag.play(),n.toggle("cell--flag")}else e&&((n=p.cells.elements[e]).classList.toggle("cell--flag"),n.innerHTML="&#128681;")},P=function(t){var e=new Date(t),n=e.toLocaleDateString({weekday:"",month:"long"});return[e.toLocaleTimeString(),n]};function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function z(){z=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),s=new E(o||[]);return r(a,"_invoke",{value:_(t,n,s)}),a}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function h(){}function m(){}var v={};c(v,i,(function(){return this}));var d=Object.getPrototypeOf,y=d&&d(d(k([])));y&&y!==e&&n.call(y,i)&&(v=y);var g=m.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(r,i,a,s){var c=u(t[r],t,i);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==A(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,s)}),(function(t){o("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}})}function _(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=u(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:h,configurable:!0}),h.displayName=c(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new w(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,s,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function M(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var H=function(t){if(p.lastResults.length){var e=m({tag:"ul",classes:["history__list"],parent:t});p.lastResults.forEach((function(t){var n=B(P(t[4]),2),r=n[0],i=n[1];m({tag:"li",classes:["history__result"],parent:e,textContent:"&#128337;".concat(r," &#128197;").concat(i," &#128640;").concat(t[5],"<br>").concat(o.name," found ").concat(t[1]," mines on field ").concat(t[0],"x").concat(t[0]," in ").concat(t[3]," seconds and ").concat(t[2]," moves")})}))}else m({tag:"p",classes:["history__result","history__empty"],parent:t,textContent:"No history"})},Y=function(){var t,e=(t=z().mark((function t(e,n){var r,o,i,a;return z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.innerHTML="",r=m({classes:["preloader"],parent:e}),t.next=5,b();case 5:o=t.sent,r.remove(),o||m({tag:"p",classes:["history__result"],parent:e,textContent:"Can't load data"}),0===(i=o.filter((function(t){return t.difficulty===n}))).length?m({tag:"p",classes:["history__result","history__empty"],parent:e,textContent:"No results"}):(a=m({tag:"ol",classes:["history__list"],parent:e}),i.forEach((function(t){var e=B(P(t.date),2),n=e[0],r=e[1];m({tag:"li",classes:["history__result"],parent:a,textContent:"Player: ".concat(t.name,"<br>Turns: ").concat(t.turns," | Time: ").concat(t.time," seconds.<br> Date: ").concat(n," ").concat(r)})})));case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){M(i,r,o,a,s,"next",t)}function s(t){M(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t,n){return e.apply(this,arguments)}}();const J=function(){var t=m({classes:["popup"],parent:p.elements.container});setTimeout((function(){return t.classList.add("popup--animation")}),10);var e=m({classes:["popup__container","popup__message","popup__history"],parent:t}),n=m({classes:["popup__buttons"],parent:e}),r=m({classes:["new-game"],parent:n,textContent:"Your history"}),o=m({classes:["new-game"],parent:n,textContent:"Global top"}),i=m({classes:["top-container"],parent:e});H(i),r.addEventListener("click",(function(){i.innerHTML="",H(i)})),o.addEventListener("click",(function(){i.innerHTML="";var t=m({classes:["top-result-container"],parent:i}),e=m({classes:["difficulty-btn__container"],parent:i,onClick:function(n){n.target.classList.contains("difficulty-btn")&&(e.childNodes.forEach((function(t){return t.classList.remove("difficulty-btn--active")})),n.target.classList.add("difficulty-btn--active"),t.innerHTML="",Y(t,n.target.textContent))}});m({classes:["difficulty-btn","difficulty-btn--active","difficulty-btn--easy"],textContent:"easy",parent:e}),m({classes:["difficulty-btn","difficulty-btn--medium"],textContent:"medium",parent:e}),m({classes:["difficulty-btn","difficulty-btn--hard"],textContent:"hard",parent:e}),Y(t,"easy")})),m({classes:["settings__apply"],parent:t,onClick:function(){t.classList.remove("popup--animation"),setTimeout((function(){return t.remove()}),500)}})},R=function(){p.elements.continueBtn.remove(),o.game=!1,p.continueGame(),p.elements.field.innerHTML="",G(p.cells.data,p.elements.field),p.cells.open.forEach((function(t){return O(t)})),p.cells.flag.forEach((function(t){return N(null,t)})),p.elements.turnsCount.textContent=p.turns,p.elements.flagsCount.textContent="".concat(p.cells.flag.length," / ").concat(o.mines),p.elements.timerCount.textContent="".concat(p.time," s"),p.timerId=setInterval(T,1e3),p.removeSave(),o.game=!0},q=function(){o.sound=!o.sound,p.elements.soundBtn.classList.toggle("button__sound--mute"),o.save()},$=function(){var t=document.body;t.classList.toggle("page--theme-dark"),o.theme=t.className.split(" "),o.save()},D=function(t){var e=parseInt(t.target.value,10),n=p.elements.minesInput;100===e?n.value=10:225===e?n.value=30:625===e&&(n.value=99),t.target.checked=!0},U=function(){var t=m({classes:["popup","popup--animation"],parent:p.elements.container}),e=m({classes:["popup__container","popup__message","popup__history"],parent:t});m({tag:"p",textContent:"What's your name?",parent:e});var n=m({classes:["name-input"],tag:"input",type:"text",parent:e});n.focus();var r=document.querySelector(".settings__name");n.addEventListener("input",(function(){n.value.length>3&&!p.elements.applyBtn?m({classes:["settings__apply"],parent:t,link:"applyBtn",onClick:function(){n.value&&(o.name=n.value,r&&(r.textContent=o.name),o.save(),t.classList.remove("popup--animation"),setTimeout((function(){return t.remove()}),500))}}):n.value.length<=3&&p.elements.applyBtn&&(p.elements.applyBtn.remove(),p.elements.applyBtn=null)}))};function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function t(){var e,n;clearInterval(p.timerId),document.body.innerHTML="",o.game=!0,p.turns=0,p.elements.length=0,Object.values(p.cells).forEach((function(t){t.length=0})),(e=document.body.classList).add.apply(e,function(t){if(Array.isArray(t))return W(t)}(n=o.theme)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var r=m({classes:["container"],parent:document.body,link:"container"});o.name||U();var i=m({classes:["controls"],parent:r}),a=m({classes:["controls__toggle"],parent:i,link:"controlsToggle"}),s=m({tag:"i",classes:["button","button__sound"],parent:a,onClick:q,link:"soundBtn"});o.sound||s.classList.add("button__sound--mute"),m({tag:"i",classes:["button","button__theme"],parent:a,onClick:$,link:"themeBtn"}),p.elements.newGameBtn=m({classes:["new-game"],parent:i,textContent:"New Game",onClick:function(){p.lastGame&&(p.elements.continueBtn.remove(),p.removeSave()),t()}}),p.lastGame&&m({classes:["continue-game"],parent:i,textContent:"Continue",onClick:R,link:"continueBtn"});var c,l=m({classes:["controls__popup"],parent:i});m({tag:"i",classes:["button","button__history"],parent:l,onClick:J}),m({tag:"i",classes:["button","button__settings"],parent:l,onClick:function(){return function(t){var e=m({classes:["popup","settings"],parent:p.elements.container});setTimeout((function(){return e.classList.add("popup--animation")}),10);var n=m({classes:["settings__container"],parent:e});m({tag:"p",classes:["settings__title","settings__name"],parent:n,textContent:"".concat(o.name),onClick:U});var r=m({tag:"form",classes:["settings__item","size"],parent:n});m({tag:"p",classes:["settings__title"],parent:r,textContent:"Field size"});var i=m({tag:"label",classes:["size__label"],parent:r,textContent:"10x10  "});m({tag:"input",classes:["size__input"],parent:i,type:"radio",name:"size",value:"100",onClick:D});var a=m({tag:"label",classes:["size__label"],parent:r,textContent:"15x15  "});m({tag:"input",classes:["size__input"],parent:a,type:"radio",name:"size",value:"225",onClick:D});var s=m({tag:"label",classes:["size__label"],parent:r,textContent:"25x25  "});m({tag:"input",classes:["size__input"],parent:s,type:"radio",name:"size",value:"625",onClick:D}),r.querySelector("input[value='".concat(o.fieldSize,"']")).checked=!0;var c=m({classes:["settings__item","mines"],parent:n});m({tag:"p",classes:["settings__title"],parent:c,textContent:"Mines amount"});var l=m({tag:"input",classes:["size__input"],parent:c,type:"number",link:"minesInput"});l.value=o.mines,l.min=10,l.max=99,l.placeholder="10-99",l.addEventListener("focusout",(function(){l.value>99&&(l.value=99),l.value<10&&(l.value=10)}));var u=m({classes:["settings__item"],parent:n});m({classes:["settings__apply"],parent:u,onClick:function(){p.lastGame&&(p.elements.continueBtn.remove(),p.removeSave());var n=r.querySelector("input:checked").value,i=l.value;o.fieldSize=+n,o.mines=Math.round(i),100===o.fieldSize&&10===o.mines?o.mode="easy":225===o.fieldSize&&30===o.mines?o.mode="medium":625===o.fieldSize&&99===o.mines?o.mode="hard":o.mode="custom",o.save(),e.classList.remove("popup--animation"),setTimeout((function(){return t()}),200)}}).title="this will start new game",m({classes:["settings__close"],parent:u,onClick:function(){e.classList.remove("popup--animation"),setTimeout((function(){return e.remove()}),500)}})}(t)}}),100===o.fieldSize?c="easy":225===o.fieldSize?c="medium":625===o.fieldSize&&(c="hard");var u=m({classes:["field","field--".concat(c)],parent:r,onClick:I,link:"field"});u.addEventListener("contextmenu",N);var f=m({classes:["progressbar"],parent:r});m({classes:["progressbar__value"],parent:f,link:"progressBar"});var h=m({classes:["counters"],parent:r}),v=m({classes:["turns"],parent:h});m({tag:"i",classes:["turns__icon"],parent:v}),m({tag:"span",classes:["turns__count"],parent:v,textContent:"0",link:"turnsCount"});var d=m({classes:["flags"],parent:h});m({tag:"i",classes:["flags__icon"],parent:d}),m({tag:"span",classes:["flags__count"],parent:d,textContent:"0 / ".concat(o.mines),link:"flagsCount"});var y=m({classes:["timer"],parent:h});m({tag:"i",classes:["timer__icon"],parent:y}),m({tag:"span",classes:["timer__count"],parent:y,textContent:"0 s",link:"timerCount"});var g=new Array(o.fieldSize).fill();p.cells.data=g,G(g,u)}()})();